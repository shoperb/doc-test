<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Shoperb Themes | Sections</title>
    <meta name="description" content="How to build Shoperb Themes">
    
    <link rel="preload" href="/doc-test/assets/css/9.styles.fa8239a0.css" as="style"><link rel="preload" href="/doc-test/assets/js/app.63fc5171.js" as="script"><link rel="preload" href="/doc-test/assets/js/1.60886891.js" as="script"><link rel="prefetch" href="/doc-test/assets/js/5.b91709a6.js"><link rel="prefetch" href="/doc-test/assets/js/2.885888d6.js"><link rel="prefetch" href="/doc-test/assets/js/3.d1a27285.js"><link rel="prefetch" href="/doc-test/assets/js/4.460cd5da.js"><link rel="prefetch" href="/doc-test/assets/js/0.58511801.js"><link rel="prefetch" href="/doc-test/assets/js/6.37c43c1d.js"><link rel="prefetch" href="/doc-test/assets/js/7.7720ca6e.js"><link rel="prefetch" href="/doc-test/assets/js/8.ea150ba4.js">
    <link rel="stylesheet" href="/doc-test/assets/css/9.styles.fa8239a0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/doc-test/" class="router-link-active"><!----><span class="site-name">
      Shoperb Themes
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><a href="/doc-test/">
      Home
    </a><a href="/doc-test/themes/" class="router-link-active">
      Themes
    </a><a href="/doc-test/api/">
      API
    </a><a href="https://github.com/shoperb/doc-test" target="_blank" rel="noopener" class="github-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar"><nav class="nav-links"><a href="/doc-test/">
      Home
    </a><a href="/doc-test/themes/" class="router-link-active">
      Themes
    </a><a href="/doc-test/api/">
      API
    </a><a href="https://github.com/shoperb/doc-test" target="_blank" rel="noopener" class="github-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><a href="/doc-test/themes/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/doc-test/themes/basics.html" class="sidebar-link">Basic Concepts</a></li><li><a href="/doc-test/themes/templates.html" class="sidebar-link">Templates</a></li><li><a href="/doc-test/themes/sections.html" class="active sidebar-link">Sections</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc-test/themes/sections.html#settings" class="sidebar-link">Settings</a></li><li class="sidebar-sub-header"><a href="/doc-test/themes/sections.html#defining-sections" class="sidebar-link">Defining sections</a></li><li class="sidebar-sub-header"><a href="/doc-test/themes/sections.html#sections-translations" class="sidebar-link">Sections translations</a></li><li class="sidebar-sub-header"><a href="/doc-test/themes/sections.html#default-values" class="sidebar-link">Default values</a></li><li class="sidebar-sub-header"><a href="/doc-test/themes/sections.html#settings-data" class="sidebar-link">Settings data</a></li><li class="sidebar-sub-header"><a href="/doc-test/themes/sections.html#including-sections" class="sidebar-link">Including sections</a></li><li class="sidebar-sub-header"><a href="/doc-test/themes/sections.html#buildable-pages" class="sidebar-link">Buildable pages</a></li><li class="sidebar-sub-header"><a href="/doc-test/themes/sections.html#page-with-dynamic-sections" class="sidebar-link">Page with dynamic sections</a></li></ul></li></ul></div><div class="page"><div class="content"><h1 id="sections"><a href="#sections" aria-hidden="true" class="header-anchor">#</a> Sections</h1><h2 id="settings"><a href="#settings" aria-hidden="true" class="header-anchor">#</a> Settings</h2><p>There is a strict differentiation between “General settings” (styles) and Section settings.</p><h3 id="general-settings"><a href="#general-settings" aria-hidden="true" class="header-anchor">#</a> General Settings</h3><p>General settings will be the one, which are involved into .css, .scss files. Our assets compilation process allows us to identify which setting correspond to which css rule and make the whole process of configuring them in Builder as smooth as possible.
The whole approach and files structure for general settings remains the same:</p><ul><li>settings are provided to scss files using moustache syntax under <code>'settings'</code> variable. Ex: <code>{ { settings.bg_color }}</code></li><li>The schema is described inside “config/settings_schema.json” file with same rules, same settings types.</li><li>Presets go under folder “presets”. There should be one file called “default.json” inside this folder.</li><li>Translations to schema go under “config/schema_translations” folder.</li></ul><p><strong>NB! The only change in settings schema is instead of “name_key” field let’s use “handle”. I realised that “handle” is more consistent with the project.</strong></p><h3 id="section-settings"><a href="#section-settings" aria-hidden="true" class="header-anchor">#</a> Section Settings</h3><p>Another type of settings belongs is Section Settings. Section settings are accessible from a section under variable ‘section.settings’. Example:</p><pre class="language-text"><code>{{ section.settings.header_text }}
</code></pre><p>The definition of section settings should be located inside section file using liquid tad “schema”. More details see in the next chapter.</p><h2 id="defining-sections"><a href="#defining-sections" aria-hidden="true" class="header-anchor">#</a> Defining sections</h2><p>Every section filename should begin with “_” (underscore). All section files should be located under “sections” directory.</p><p>Every section should contain only 1 root element (1 wrapping div). This root element should have the ‘data-section-id’ tag attached. This will simplify detecting sections in the Builder mode. Example:</p><pre class="language-text"><code>&lt;div data-section-id=&quot;{{ section.id }}&quot;&gt;
 ... section data
&lt;/div&gt;
</code></pre><p>Section settings should be described in separate .json files under “config/sections” directory. Example: for a section “_footer.liquid” should be a correspondent setting schema desription inside the file <strong>&quot;config/sections/footer.json&quot;</strong></p><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Footer&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;generic&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;menu&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;handle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;footer_menu1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;default&quot;</span><span class="token operator">:</span> <span class="token string">&quot;footer&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;menu&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;handle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;footer_menu2&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;default&quot;</span><span class="token operator">:</span> <span class="token string">&quot;header&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;checkbox&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;handle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;show_powered_by&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;default&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>As described above, every setting has its “handle”.
Section’s “handle” is its filename (without underscore and extension). Example: handle of “_hero.liquid” is “hero”.
Handles are names of settings and they form altogether translation keys for settings.</p><p>A schema should define section as “generic”, when it can be included to any page dynamically. Not every section should be allowed to be included dynamically to a page. Example: header (included already statically), product template (only included to the product page)</p><p>Available settings types are described in the table below:</p><table><thead><tr><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>text</td><td>Regular text field</td></tr><tr><td>richtext</td><td>HTML text</td></tr><tr><td>select</td><td>Select with options. Available options should be provided in the array “options”</td></tr><tr><td>number</td><td>Regular number field</td></tr><tr><td>checkbox</td><td>Regular boolean value</td></tr><tr><td>radio</td><td>Regular radiobutton functionality. “options” should be provided</td></tr><tr><td>range</td><td>Regular range field. Additional fields required: “min”, “max”, “step”</td></tr><tr><td>color</td><td>color picker (but color will be refreshed on iframe reload)</td></tr><tr><td>video</td><td>Video picker</td></tr><tr><td>collection</td><td>Will produce a combobox with collections</td></tr><tr><td>product</td><td>Will product a combobox with products</td></tr><tr><td>menu</td><td>Will produce a combobox with menus</td></tr><tr><td>image</td><td>Image picker.</td></tr><tr><td>blog_post</td><td>Combobox with blog posts</td></tr><tr><td>category</td><td>Combobox with categories</td></tr><tr><td>subcategory</td><td>Exists for structuring settings. Required “settings” field to be field with array for settings</td></tr></tbody></table><p>Schema should also define default values for settings (if any) in the field “default”:</p><pre class="language-json"><code>
<span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Footer&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;generic&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;menu&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;handle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;footer_menu1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;default&quot;</span><span class="token operator">:</span> <span class="token string">&quot;footer&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="text-setting-tip"><a href="#text-setting-tip" aria-hidden="true" class="header-anchor">#</a> Text setting tip</h3><p>For the settings of type “text” (or richtext), please add additional data tag to the DOM element, like:</p><pre class="language-text"><code>&lt;p data-theme-editor-setting='title'&gt; {{ section.settings.title }} &lt;/p&gt;
</code></pre><p>(meaning the setting name), so in Builder mode it would be possible to identify the bearer of a setting and make the changing of it smooth and on-a-fly.</p><h2 id="sections-translations"><a href="#sections-translations" aria-hidden="true" class="header-anchor">#</a> Sections translations</h2><p>NB: format changed</p><p>Sections translations (as well as translations of general settings) should go under “config/schema_translations/” folder in the following structure:</p><pre class="language-text"><code>{
  &quot;sections&quot;: {
    &quot;section_handle&quot;: {
      &quot;title&quot;: &quot;My Section&quot;,
      &quot;setting_handle&quot;: {
        &quot;title&quot;: &quot;Value&quot;,
        &quot;options&quot;: { # optional, if e.g. select
          &quot;bold&quot;: &quot;Bold&quot;,
          &quot;normal&quot;: &quot;Normal&quot;
        },
        &quot;info&quot;: &quot;Font weight of the main font&quot; # optional
      }
    }
  },
  &quot;general&quot;: {
      &quot;css_setting_handle&quot;: {
         &quot;title&quot;: &quot;Main button color&quot;,
         &quot;info&quot;: &quot;Changes colors of the biggest buttons on the site&quot; # optional
      }
  },
  &quot;categories&quot;: {
    # as previously
  },
  &quot;presets&quot;: {
    # as previously
  }
}
</code></pre><h2 id="default-values"><a href="#default-values" aria-hidden="true" class="header-anchor">#</a> Default values</h2><p>Default values for settings are defined in several places, depending on a type of a setting:</p><p>All default values for a theme are located inside the file “config/settings_data.json”. This file includes both default values for general settings (content of default preset), and default sections with their default values. For more information see next chapter.</p><h2 id="settings-data"><a href="#settings-data" aria-hidden="true" class="header-anchor">#</a> Settings data</h2><p>In the config folder there should be a correspondent “settings_data.json” file. This file is describing current settings for all sections and current general settings, with which stylesheets are compiled.
The format of this file is following:</p><pre class="language-text"><code>{
  &quot;general&quot;: { # here goes current general settings
     &quot;body_bg_color&quot;: &quot;#12345&quot;,
     ...
  },
  &quot;sections&quot;: { # here we describe specific sections, which are already defined on some pages
      &quot;header&quot;: { # key is an &quot;id&quot; of specific section, attached to a page. It can be any string
         &quot;type&quot;: &quot;header&quot;, # handle of section, derived from section file name
         &quot;settings&quot;: { # here goes already specific section values
             &quot;header&quot;: &quot;Hello!&quot;,
             &quot;image&quot;: 'https://cdn.site.com/image.png'
         },
         &quot;translations&quot;: { # populated for settings of type 'text' or 'richtext' using Language tab in admin
            &quot;et&quot;: {
               &quot;header&quot;: &quot;Tere!&quot;
            },
            &quot;en&quot;: {
               &quot;header&quot;: &quot;Hello!&quot;
            }
         }
      },
      &quot;hero-1&quot;: {
          &quot;type&quot;: &quot;hero&quot;,
          &quot;settings&quot;: { ... }
      },
       &quot;hero-2&quot;: {
          &quot;type&quot;: &quot;hero&quot;,
          &quot;settings&quot;: { ... }
      }

  },
  &quot;content_for_index&quot;: [&quot;hero-1&quot;, &quot;hero-2&quot;] # set of sections (by their ID) in a correct order to include to an index page
}
</code></pre><h2 id="including-sections"><a href="#including-sections" aria-hidden="true" class="header-anchor">#</a> Including sections</h2><p>Including a section is similar to including a fragment/partial (whatever we call it), but instead of “include” tag the “section” tag is used:</p><pre class="language-text"><code>{% section 'header' %}
</code></pre><p>Section should be included by its ID.
Including a section this way ensures that the section will receive the <strong>section</strong> object, from which it’s possible to ask settings or “id”, or maybe some other information.</p><h2 id="buildable-pages"><a href="#buildable-pages" aria-hidden="true" class="header-anchor">#</a> Buildable pages</h2><p>When user open ThemeBuilder he should have a dropdown with pages, which he can customize.
In order to define a page as ‘customizable’, you should include it to “customizable_pages” array inside the config/spec.json file. Example:</p><p>config/spec.json</p><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;handle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;universal&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Universal&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Shoperb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;year&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2016&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.8&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Universal theme from Shoperb.com&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;customizable_pages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;products&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;product&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;collection&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;collections&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cart&quot;</span><span class="token punctuation">]</span>
  <span class="token property">&quot;compile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    ...
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><h2 id="page-with-dynamic-sections"><a href="#page-with-dynamic-sections" aria-hidden="true" class="header-anchor">#</a> Page with dynamic sections</h2><p>Currently index page will be the one, which will be including dynamic sections.
In the index.liquid layout dynamic sections should be included with a following tag:</p><pre class="language-text"><code>
{{ content_for_template }}
</code></pre></div><!----><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/doc-test/themes/templates.html" class="prev">
          Templates
        </a></span><!----></p></div></div></div></div>
    <script src="/doc-test/assets/js/1.60886891.js" defer></script><script src="/doc-test/assets/js/app.63fc5171.js" defer></script>
  </body>
</html>
